<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>

    <button class="button" id="rock">Rock</button>
    <button class ="button" id="paper">Paper</button>
    <button class="button" id="scissors">Scissors</button>

    <div id="results"></div>

    <script>
     
        function getComputerChoice() {
            const choiceArray = ['rock', 'paper', 'scissors'];
            let computerChoice = choiceArray[Math.floor(Math.random()*choiceArray.length)];
            return computerChoice;
        }
                       
        function playRound(playerSelection, computerSelection) {
                       
            if (playerSelection.toLowerCase() === computerSelection) {
                return result = 'It\'s a tie, baby!';
            } else if (playerSelection.toLowerCase() === 'rock' && computerSelection === 'paper') {
                return result = 'You lose! Paper beats Rock!';
            } else if (playerSelection.toLowerCase() === 'paper' && computerSelection === 'scissors') {
                return result = 'You lose! Scissors beats Paper!';
            } else if (playerSelection.toLowerCase() === 'scissors' && computerSelection === 'rock') {
                return result = 'You lose! Rock beats Scissors!';
            
            } else if (playerSelection.toLowerCase() === 'paper' && computerSelection === 'rock') {
                return result = 'Winner winner chicken dinner! Paper beats Rock!';
            } else if (playerSelection.toLowerCase() === 'scissors' && computerSelection === 'paper') {
                return result = 'Winner winner chicken dinner! Scissors beats Paper!';
            } else if (playerSelection.toLowerCase() === 'rock' && computerSelection === 'scissors') {
                return result = 'Winner winner chicken dinner! Rock beats Scissors!';
            } else {
                return result = 'Oopsies, something went wrong';
            }
        }
        
        function scoreTotal() {
            let score = 0;
            for (let n = 0; n < 5; n++) {
                if (scoreBoard[n].includes('Winner') == true) {
                    score++;
                } else if (scoreBoard[n].includes('lose') == true) {
                    score--;
                } else {
                    score + 0;
                }
            }

            if (score > 0) {
                return finalResult = 'Congratulations! You won a free iPod Nano!';
            } else if (score < 0) {
                return finalResult = 'You just lost the game!';
            } else {
                return finalResult = 'Sawadi-ka! It was a thai!'
            }   
        }
      
        const rock = document.getElementById('rock').addEventListener('click', buttonClick);
        const paper = document.getElementById('paper').addEventListener('click', buttonClick);
        const scissors = document.getElementById('scissors').addEventListener('click', buttonClick);

        const results = document.getElementById('results');

        const scoreBoard = new Array();

        function buttonClick() {
            playerSelection = this.id;
            console.log(playRound(playerSelection, getComputerChoice()));
            scoreBoard.push(playRound(playerSelection, getComputerChoice()));
            document.getElementById('results').innerText += `\n ${result}`;
            
            if (scoreBoard.length === 5) {   
                document.getElementById('results').innerHTML += `<div style = color:red> ${scoreTotal()} </div>`;
                document.getElementById('results').innerHTML += `<br><button id="play">Play again?</button>`;
                const playAgain = document.getElementById('play').addEventListener('click', restart);
                document.getElementById('rock').disabled = true;
                document.getElementById('paper').disabled = true;
                document.getElementById('scissors').disabled = true;
            } 
           
        }

        function restart() {
            location.reload();
        }

    </script>
</body>
</html>